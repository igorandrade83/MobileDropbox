!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module?module.exports=e():t.format=e()}(this,function(){return function(t,e){"use strict";if(!t||isNaN(+e))return e;var n,i,s,r,l,o,f,h,g,u,c=t.length,d=t.search(/[0-9\-\+#]/),a=d>0?t.substring(0,d):"",p=t.split("").reverse().join(""),b=p.search(/[0-9\-\+#]/),m=c-b,x=t.substring(m,m+1),j=m+("."===x||","===x?1:0),v=b>0?t.substring(j,c):"";if(t=t.substring(d,j),e="-"===t.charAt(0)?-e:+e,n=e<0?e=-e:0,i=t.match(/[^\d\-\+#]/g),s=i&&i[i.length-1]||".",r=i&&i[1]&&i[0]||",",t=t.split(s),e=e.toFixed(t[1]&&t[1].length),e=+e+"",o=t[1]&&t[1].lastIndexOf("0"),h=e.split("."),(!h[1]||h[1]&&h[1].length<=o)&&(e=(+e).toFixed(o+1)),g=t[0].split(r),t[0]=g.join(""),(l=t[0]&&t[0].indexOf("0"))>-1)for(;h[0].length<t[0].length-l;)h[0]="0"+h[0];else 0==+h[0]&&(h[0]="");if(e=e.split("."),e[0]=h[0],f=g[1]&&g[g.length-1].length){for(u=e[0],p="",m=u.length%f,c=u.length,j=0;j<c;j++)p+=u.charAt(j),!((j-m+1)%f)&&j<c-f&&(p+=r);e[0]=p}return e[1]=t[1]&&e[1]?s+e[1]:"",i=e.join(""),"0"!==i&&""!==i||(n=!1),a+(n?"-":"")+i+v}});